# Автоматическая проверка

Перед полетом (особенно автономным) можно применить несколько методов автоматического самотестирования подсистем квадрокоптера.

## <span>selfcheck</span>.py

Утилита `selfcheck.py` является частью пакета `clever` и выполняет автоматическое тестирование основных аспектов ROS-платформы и PX4. Утилита предустановлена на [образе Raspberry Pi](microsd_images.md).

Для запуска наберите в [консоли Raspberry Pi](ssh.md):

```bash
rosrun clever selfcheck.py
```

<img src="../assets/selfcheck.png">

Описание некоторых проверок:

* FCU – проверка корректности соединения с полетным контроллером;
* IMU – проверка корректности данных с IMU;
* Local position – наличие локальной позиции дрона;
* Velocity estimation – оценка скоростей дрона (**запрещено выполнять автономный взлет при ошибках в этой проверке!**);
* Global position (GPS) – наличие глобальной позиции (требуется GPS);
* Camera – корректная работа камеры Raspberry.
* ArUco – проверка работы [распознавания ArUco-маркеров](aruco.md).
* VPE – проверка правильности работы VPE.
* Rangefinder – проверка работы [дальномера](laser.md).

## commander check

Для проверки основных подсистем PX4 и возможности арминга в данный момент можно выполнить в MAVLink-консоли команду `commander check`.

<img src="../assets/commander-check.png">

При использовании SITL вместо MAVLink-консоли необходимо использовать терминал, где запущен SITL.
